---
import Scaffolding from "./Scaffolding.astro";

interface Props {
    title: string;
}

const { title } = Astro.props;
---

<Scaffolding title={title}>
    <div class="flex flex-col min-h-screen">
        <!-- Navigation Bar -->
        <nav
            class="flex items-center justify-between px-6 py-4 border-b border-[#252424]"
        >
            <div class="flex items-center gap-4">
                <!-- Decorative Circle -->
                <div class="w-6 h-6 bg-white rounded-full"></div>
                <a href="/" class="text-xl font-bold tracking-wider">
                    DOTY'S SITE
                </a>
            </div>

            <div class="flex items-center gap-8">
                <div class="sm:flex items-center gap-8">
                    <a
                        href="/projects"
                        class="hover:text-gray-300 transition-colors"
                    >
                        PROJECTS
                    </a>
                    <a
                        href="/hobbies"
                        class="hover:text-gray-300 transition-colors"
                    >
                        HOBBIES
                    </a>
                </div>

                <!-- Language Selector -->
                <div class="relative" id="lang-selector">
                    <button
                        id="lang-button"
                        class="flex items-center gap-2 hover:text-gray-300 transition-colors"
                    >
                        <img
                            src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Doty.hu-m8HH7shDDviaqekJKT5h1KbGVeKHzd.png"
                            alt="UK Flag"
                            width="24"
                            height="16"
                            class="object-contain"
                        />
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            class="w-4 h-4"
                        >
                            <path d="m6 9 6 6 6-6"></path>
                        </svg>
                    </button>

                    <div
                        id="lang-menu"
                        class="absolute right-0 mt-2 py-2 w-48 bg-[#252424] rounded-md shadow-xl hidden"
                    >
                        <a
                            href="#"
                            class="block px-4 py-2 hover:bg-[#121212] transition-colors"
                        >
                            English
                        </a>
                        <a
                            href="#"
                            class="block px-4 py-2 hover:bg-[#121212] transition-colors"
                        >
                            Magyar
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="flex-1 bg-[#252424]">
            <slot />
        </main>

        <!-- Footer -->
        <footer class="py-4 text-center text-sm">COPYRIGHT Â© 2025 DOTY</footer>
    </div>
</Scaffolding>

<script>
    // Language selector functionality
    const langButton = document.getElementById("lang-button");
    const langMenu = document.getElementById("lang-menu");
    let isMenuOpen = false;

    langButton?.addEventListener("click", () => {
        isMenuOpen = !isMenuOpen;
        if (langMenu) {
            langMenu.classList.toggle("hidden", !isMenuOpen);
        }
    });

    // Close menu when clicking outside
    document.addEventListener("click", (event) => {
        const langSelector = document.getElementById("lang-selector");
        if (
            langSelector &&
            !langSelector.contains(event.target as Node) &&
            langMenu
        ) {
            isMenuOpen = false;
            langMenu.classList.add("hidden");
        }
    });
</script>
